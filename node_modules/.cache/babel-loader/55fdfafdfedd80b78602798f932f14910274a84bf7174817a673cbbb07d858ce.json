{"ast":null,"code":"import _objectSpread from\"C:/Users/jimmy/Desktop/BookTime/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState}from'react';import{X,Trash2,Search}from'lucide-react';// â† RETIRER RefreshCw\nimport{getCoverUrl}from'../utils/imageGenerator';import{jsx as _jsx,Fragment as _Fragment,jsxs as _jsxs}from\"react/jsx-runtime\";export default function BookDetailModal(_ref){let{book,onClose,onUpdate,onDelete}=_ref;const[editedBook,setEditedBook]=useState(book);const[imageUrl,setImageUrl]=useState(book.cover);const[searchingCover,setSearchingCover]=useState(false);const handleSave=()=>{onUpdate(book.id,_objectSpread(_objectSpread({},editedBook),{},{cover:imageUrl}));onClose();};const handleSearchRealCover=async()=>{setSearchingCover(true);const realCover=await getCoverUrl(editedBook.title);setImageUrl(realCover);setSearchingCover(false);};return/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 z-50 flex items-center justify-center p-4 backdrop-blur-lg bg-black/80\",onClick:onClose,children:/*#__PURE__*/_jsx(\"div\",{className:\"rounded-3xl p-6 max-w-4xl w-full border border-gray-700 bg-gray-800/95 max-h-[90vh] overflow-y-auto\",onClick:e=>e.stopPropagation(),children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col lg:flex-row gap-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex-shrink-0 lg:w-64\",children:[/*#__PURE__*/_jsx(\"img\",{src:imageUrl,alt:editedBook.title,className:\"w-full lg:w-64 h-96 object-cover rounded-2xl shadow-2xl border border-gray-700\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:imageUrl,onChange:e=>setImageUrl(e.target.value),placeholder:\"URL de l'image\",className:\"w-full mt-3 border border-gray-700 rounded-lg px-3 py-2 text-xs bg-gray-900/50 text-white placeholder-gray-500\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSearchRealCover,disabled:searchingCover,className:\"w-full mt-2 flex items-center justify-center gap-2 border border-teal-600 rounded-lg px-3 py-2 text-xs bg-teal-900/30 text-teal-400 hover:text-teal-300 hover:bg-teal-900/50 hover:border-teal-500 transition-all disabled:opacity-50\",children:searchingCover?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Search,{className:\"w-3.5 h-3.5 animate-spin\"}),\"Recherche...\"]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Search,{className:\"w-3.5 h-3.5\"}),\"Chercher vraie couverture\"]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start justify-between mb-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 pr-4\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-gray-400 text-xs mb-2 block\",children:\"Titre\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:editedBook.title,onChange:e=>setEditedBook(_objectSpread(_objectSpread({},editedBook),{},{title:e.target.value})),className:\"w-full text-2xl font-bold bg-transparent border-b-2 border-gray-700 pb-2 focus:outline-none focus:border-teal-500 text-white\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:onClose,className:\"text-gray-400 hover:text-white flex-shrink-0\",children:/*#__PURE__*/_jsx(X,{className:\"w-6 h-6\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-gray-400 text-sm mb-2 block\",children:\"Auteur\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:editedBook.author,onChange:e=>setEditedBook(_objectSpread(_objectSpread({},editedBook),{},{author:e.target.value})),className:\"w-full border border-gray-700 rounded-xl px-4 py-3 bg-gray-900/50 text-white\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-gray-400 text-sm mb-2 block\",children:\"Statut\"}),/*#__PURE__*/_jsxs(\"select\",{value:editedBook.status,onChange:e=>setEditedBook(_objectSpread(_objectSpread({},editedBook),{},{status:e.target.value})),className:\"w-full border border-gray-700 rounded-xl px-4 py-3 bg-gray-900/50 text-white\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"reading\",children:\"En cours\"}),/*#__PURE__*/_jsx(\"option\",{value:\"finished\",children:\"Termin\\xE9\"}),/*#__PURE__*/_jsx(\"option\",{value:\"stopped\",children:\"Arr\\xEAt\\xE9\"}),/*#__PURE__*/_jsx(\"option\",{value:\"autre\",children:\"Autre\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-gray-400 text-sm mb-2 block\",children:\"Note (0-10)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",min:\"0\",max:\"10\",value:editedBook.rating,onChange:e=>setEditedBook(_objectSpread(_objectSpread({},editedBook),{},{rating:parseInt(e.target.value)||0})),className:\"w-full border border-gray-700 rounded-xl px-4 py-3 bg-gray-900/50 text-white\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-gray-400 text-sm mb-2 block\",children:\"\\xC9pisode / Chapitre\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:editedBook.episode,onChange:e=>setEditedBook(_objectSpread(_objectSpread({},editedBook),{},{episode:e.target.value})),className:\"w-full border border-gray-700 rounded-xl px-4 py-3 bg-gray-900/50 text-white\",placeholder:\"ex: 150, 3x12, Chapitre 45...\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-gray-400 text-sm mb-2 block\",children:\"Genre\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:editedBook.genre,onChange:e=>setEditedBook(_objectSpread(_objectSpread({},editedBook),{},{genre:e.target.value})),className:\"w-full border border-gray-700 rounded-xl px-4 py-3 bg-gray-900/50 text-white\",placeholder:\"ex: Action, Romance, Fantasy...\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-gray-400 text-sm mb-2 block\",children:\"Site web\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:editedBook.site,onChange:e=>setEditedBook(_objectSpread(_objectSpread({},editedBook),{},{site:e.target.value})),className:\"w-full border border-gray-700 rounded-xl px-4 py-3 bg-gray-900/50 text-white\",placeholder:\"ex: webtoons.com, asurascans.com...\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-3 pt-4\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleSave,className:\"flex-1 py-3 rounded-xl font-bold text-white bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-500 hover:to-emerald-500 transition-all\",style:{boxShadow:'0 0 30px rgba(16, 185, 129, 0.5)'},children:\"Sauvegarder\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{if(window.confirm('Supprimer cette lecture ?')){onDelete(book.id);onClose();}},className:\"px-6 py-3 rounded-xl font-bold text-white bg-gradient-to-r from-red-600 to-rose-600 hover:from-red-500 hover:to-rose-500\",style:{boxShadow:'0 0 30px rgba(239, 68, 68, 0.5)'},children:/*#__PURE__*/_jsx(Trash2,{className:\"w-5 h-5\"})})]})]})]})]})})});}","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}