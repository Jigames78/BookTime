{"ast":null,"code":"import { getCoverUrlSync, updateCoverAsync } from './imageGenerator';\nexport const parseImportText = (importText, importStatus) => {\n  const lines = importText.split('\\n');\n  const newBooks = [];\n  lines.forEach(line => {\n    line = line.trim();\n    if (!line || line.startsWith('#')) return;\n\n    // Supprimer les emojis\n    line = line.replace(/[üìï‚ù§üíôüíöüíõüíúüí´‚ô•‚ôà‚ôë‚õéüìØ‚ôå‚ôè‚ôéüåçüåÄ]+/g, '').trim();\n    let title = '';\n    let episode = '';\n\n    // Extraire le titre et l'√©pisode\n    const epMatch = line.match(/^(.+?)\\s+ep\\s+(.+)$/i);\n    if (epMatch) {\n      title = epMatch[1].trim();\n      episode = epMatch[2].trim();\n    } else {\n      title = line.trim();\n    }\n    if (title) {\n      const book = {\n        // ‚ùå NE PAS INCLURE d'id ici - Supabase le g√©n√®re automatiquement\n        title,\n        episode: episode || '',\n        site: '',\n        status: importStatus,\n        cover: getCoverUrlSync(title),\n        // Image temporaire\n        rating: 0,\n        author: '',\n        genre: ''\n      };\n\n      // Chercher la vraie couverture en arri√®re-plan\n      // Note: Ceci ne fonctionnera plus car on n'a pas encore l'ID\n      // On laisse juste l'image temporaire\n\n      newBooks.push(book);\n    }\n  });\n  return newBooks;\n};","map":{"version":3,"names":["getCoverUrlSync","updateCoverAsync","parseImportText","importText","importStatus","lines","split","newBooks","forEach","line","trim","startsWith","replace","title","episode","epMatch","match","book","site","status","cover","rating","author","genre","push"],"sources":["/etudiants/siscol/f/ferna_ji/Bureau/BookTime/src/utils/importParser.js"],"sourcesContent":["import { getCoverUrlSync, updateCoverAsync } from './imageGenerator';\n\nexport const parseImportText = (importText, importStatus) => {\n  const lines = importText.split('\\n');\n  const newBooks = [];\n  \n  lines.forEach(line => {\n    line = line.trim();\n    if (!line || line.startsWith('#')) return;\n    \n    // Supprimer les emojis\n    line = line.replace(/[üìï‚ù§üíôüíöüíõüíúüí´‚ô•‚ôà‚ôë‚õéüìØ‚ôå‚ôè‚ôéüåçüåÄ]+/g, '').trim();\n    \n    let title = '';\n    let episode = '';\n    \n    // Extraire le titre et l'√©pisode\n    const epMatch = line.match(/^(.+?)\\s+ep\\s+(.+)$/i);\n    if (epMatch) {\n      title = epMatch[1].trim();\n      episode = epMatch[2].trim();\n    } else {\n      title = line.trim();\n    }\n    \n    if (title) {\n      const book = {\n        // ‚ùå NE PAS INCLURE d'id ici - Supabase le g√©n√®re automatiquement\n        title,\n        episode: episode || '',\n        site: '',\n        status: importStatus,\n        cover: getCoverUrlSync(title), // Image temporaire\n        rating: 0,\n        author: '',\n        genre: ''\n      };\n      \n      // Chercher la vraie couverture en arri√®re-plan\n      // Note: Ceci ne fonctionnera plus car on n'a pas encore l'ID\n      // On laisse juste l'image temporaire\n      \n      newBooks.push(book);\n    }\n  });\n  \n  return newBooks;\n};"],"mappings":"AAAA,SAASA,eAAe,EAAEC,gBAAgB,QAAQ,kBAAkB;AAEpE,OAAO,MAAMC,eAAe,GAAGA,CAACC,UAAU,EAAEC,YAAY,KAAK;EAC3D,MAAMC,KAAK,GAAGF,UAAU,CAACG,KAAK,CAAC,IAAI,CAAC;EACpC,MAAMC,QAAQ,GAAG,EAAE;EAEnBF,KAAK,CAACG,OAAO,CAACC,IAAI,IAAI;IACpBA,IAAI,GAAGA,IAAI,CAACC,IAAI,CAAC,CAAC;IAClB,IAAI,CAACD,IAAI,IAAIA,IAAI,CAACE,UAAU,CAAC,GAAG,CAAC,EAAE;;IAEnC;IACAF,IAAI,GAAGA,IAAI,CAACG,OAAO,CAAC,gCAAgC,EAAE,EAAE,CAAC,CAACF,IAAI,CAAC,CAAC;IAEhE,IAAIG,KAAK,GAAG,EAAE;IACd,IAAIC,OAAO,GAAG,EAAE;;IAEhB;IACA,MAAMC,OAAO,GAAGN,IAAI,CAACO,KAAK,CAAC,sBAAsB,CAAC;IAClD,IAAID,OAAO,EAAE;MACXF,KAAK,GAAGE,OAAO,CAAC,CAAC,CAAC,CAACL,IAAI,CAAC,CAAC;MACzBI,OAAO,GAAGC,OAAO,CAAC,CAAC,CAAC,CAACL,IAAI,CAAC,CAAC;IAC7B,CAAC,MAAM;MACLG,KAAK,GAAGJ,IAAI,CAACC,IAAI,CAAC,CAAC;IACrB;IAEA,IAAIG,KAAK,EAAE;MACT,MAAMI,IAAI,GAAG;QACX;QACAJ,KAAK;QACLC,OAAO,EAAEA,OAAO,IAAI,EAAE;QACtBI,IAAI,EAAE,EAAE;QACRC,MAAM,EAAEf,YAAY;QACpBgB,KAAK,EAAEpB,eAAe,CAACa,KAAK,CAAC;QAAE;QAC/BQ,MAAM,EAAE,CAAC;QACTC,MAAM,EAAE,EAAE;QACVC,KAAK,EAAE;MACT,CAAC;;MAED;MACA;MACA;;MAEAhB,QAAQ,CAACiB,IAAI,CAACP,IAAI,CAAC;IACrB;EACF,CAAC,CAAC;EAEF,OAAOV,QAAQ;AACjB,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}