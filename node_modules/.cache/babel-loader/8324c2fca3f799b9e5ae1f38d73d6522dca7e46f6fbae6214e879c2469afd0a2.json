{"ast":null,"code":"import { getCoverUrlSync, updateCoverAsync } from './imageGenerator';\nexport const parseImportText = (importText, importStatus) => {\n  const lines = importText.split('\\n');\n  const newBooks = [];\n  lines.forEach(line => {\n    line = line.trim();\n    if (!line || line.startsWith('#')) return;\n    line = line.replace(/[ðŸ“•â¤ðŸ’™ðŸ’šðŸ’›ðŸ’œðŸ’«â™¥â™ˆâ™‘â›ŽðŸ“¯â™Œâ™â™ŽðŸŒðŸŒ€]+/g, '').trim();\n    let title = '';\n    let episode = '';\n    const epMatch = line.match(/^(.+?)\\s+ep\\s+(.+)$/i);\n    if (epMatch) {\n      title = epMatch[1].trim();\n      episode = epMatch[2].trim();\n    } else {\n      title = line.trim();\n    }\n    if (title) {\n      const book = {\n        id: Date.now() + Math.random(),\n        title,\n        episode,\n        site: '',\n        status: importStatus,\n        cover: getCoverUrlSync(title),\n        // Image temporaire\n        rating: 0,\n        author: '',\n        genre: ''\n      };\n\n      // Chercher la vraie couverture en arriÃ¨re-plan\n      updateCoverAsync(title).then(realCover => {\n        book.cover = realCover;\n      });\n      newBooks.push(book);\n    }\n  });\n  return newBooks;\n};","map":{"version":3,"names":["getCoverUrlSync","updateCoverAsync","parseImportText","importText","importStatus","lines","split","newBooks","forEach","line","trim","startsWith","replace","title","episode","epMatch","match","book","id","Date","now","Math","random","site","status","cover","rating","author","genre","then","realCover","push"],"sources":["/etudiants/siscol/f/ferna_ji/Bureau/BookTime/src/utils/importParser.js"],"sourcesContent":["import { getCoverUrlSync, updateCoverAsync } from './imageGenerator';\n\nexport const parseImportText = (importText, importStatus) => {\n  const lines = importText.split('\\n');\n  const newBooks = [];\n  \n  lines.forEach(line => {\n    line = line.trim();\n    if (!line || line.startsWith('#')) return;\n    \n    line = line.replace(/[ðŸ“•â¤ðŸ’™ðŸ’šðŸ’›ðŸ’œðŸ’«â™¥â™ˆâ™‘â›ŽðŸ“¯â™Œâ™â™ŽðŸŒðŸŒ€]+/g, '').trim();\n    \n    let title = '';\n    let episode = '';\n    \n    const epMatch = line.match(/^(.+?)\\s+ep\\s+(.+)$/i);\n    if (epMatch) {\n      title = epMatch[1].trim();\n      episode = epMatch[2].trim();\n    } else {\n      title = line.trim();\n    }\n    \n    if (title) {\n      const book = {\n        id: Date.now() + Math.random(),\n        title,\n        episode,\n        site: '',\n        status: importStatus,\n        cover: getCoverUrlSync(title), // Image temporaire\n        rating: 0,\n        author: '',\n        genre: ''\n      };\n      \n      // Chercher la vraie couverture en arriÃ¨re-plan\n      updateCoverAsync(title).then(realCover => {\n        book.cover = realCover;\n      });\n      \n      newBooks.push(book);\n    }\n  });\n  \n  return newBooks;\n};"],"mappings":"AAAA,SAASA,eAAe,EAAEC,gBAAgB,QAAQ,kBAAkB;AAEpE,OAAO,MAAMC,eAAe,GAAGA,CAACC,UAAU,EAAEC,YAAY,KAAK;EAC3D,MAAMC,KAAK,GAAGF,UAAU,CAACG,KAAK,CAAC,IAAI,CAAC;EACpC,MAAMC,QAAQ,GAAG,EAAE;EAEnBF,KAAK,CAACG,OAAO,CAACC,IAAI,IAAI;IACpBA,IAAI,GAAGA,IAAI,CAACC,IAAI,CAAC,CAAC;IAClB,IAAI,CAACD,IAAI,IAAIA,IAAI,CAACE,UAAU,CAAC,GAAG,CAAC,EAAE;IAEnCF,IAAI,GAAGA,IAAI,CAACG,OAAO,CAAC,gCAAgC,EAAE,EAAE,CAAC,CAACF,IAAI,CAAC,CAAC;IAEhE,IAAIG,KAAK,GAAG,EAAE;IACd,IAAIC,OAAO,GAAG,EAAE;IAEhB,MAAMC,OAAO,GAAGN,IAAI,CAACO,KAAK,CAAC,sBAAsB,CAAC;IAClD,IAAID,OAAO,EAAE;MACXF,KAAK,GAAGE,OAAO,CAAC,CAAC,CAAC,CAACL,IAAI,CAAC,CAAC;MACzBI,OAAO,GAAGC,OAAO,CAAC,CAAC,CAAC,CAACL,IAAI,CAAC,CAAC;IAC7B,CAAC,MAAM;MACLG,KAAK,GAAGJ,IAAI,CAACC,IAAI,CAAC,CAAC;IACrB;IAEA,IAAIG,KAAK,EAAE;MACT,MAAMI,IAAI,GAAG;QACXC,EAAE,EAAEC,IAAI,CAACC,GAAG,CAAC,CAAC,GAAGC,IAAI,CAACC,MAAM,CAAC,CAAC;QAC9BT,KAAK;QACLC,OAAO;QACPS,IAAI,EAAE,EAAE;QACRC,MAAM,EAAEpB,YAAY;QACpBqB,KAAK,EAAEzB,eAAe,CAACa,KAAK,CAAC;QAAE;QAC/Ba,MAAM,EAAE,CAAC;QACTC,MAAM,EAAE,EAAE;QACVC,KAAK,EAAE;MACT,CAAC;;MAED;MACA3B,gBAAgB,CAACY,KAAK,CAAC,CAACgB,IAAI,CAACC,SAAS,IAAI;QACxCb,IAAI,CAACQ,KAAK,GAAGK,SAAS;MACxB,CAAC,CAAC;MAEFvB,QAAQ,CAACwB,IAAI,CAACd,IAAI,CAAC;IACrB;EACF,CAAC,CAAC;EAEF,OAAOV,QAAQ;AACjB,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}